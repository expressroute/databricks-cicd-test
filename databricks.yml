bundle:
  name: dbrks-hevy-project
  
variables:
  project_name:
    default: dbrks-hevy-project

  env:
    description: "Deployment environment (dev or prd)"

  hevy_api_key:
    description: "Hevy api key injected by github"

  job_pause_status:
    description: "Job pause status (PAUSED or UNPAUSED)"

include:
  - jobs/ingest_hevy_workout.yml

workspace:
  root_path: /Shared/${var.env}/${var.project_name}

targets:
  dev:
    default: true
    mode: production
    variables:
      env: dev
      job_pause_status: PAUSED
    workspace:
      root_path: /Shared/dev/${var.project_name}

  prd:
    mode: production
    variables:
      env: prd
      job_pause_status: PAUSED
    workspace:
      root_path: /Shared/prd/${var.project_name}